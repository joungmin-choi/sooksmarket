<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>긴급 상황</title>


    <!-- Bootstrap core CSS -->
    <link href="/bootstrap-3.3.2-dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.min.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/round.css" rel="stylesheet">

    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="/bootstrap-3.3.2-dist/js/bootstrap.min.js"></script>

    <script>
    window.onload = function(){
      var loader = document.getElementById('loader');
      var body = document.getElementById('body');
      var loadPage = document.getElementById('loadPage');
      var loadPageFooter = document.getElementById('loadPageFooter');

      loader.style.display="none";
      body.style.backgroundColor="#ffffff";
      loadPage.style.display="";
      loadPageFooter.style.display="";

      $('#loader').hide();
    }

    function changeTime(){
      var changeTimeAfter = document.getElementById("changeTimeAfter");
      var changeTimeBefore = document.getElementById("changeTimeBefore");

      changeTimeAfter.style.display="";
      changeTimeBefore.style.display="none";

      location.href='/sm_request/<%= product_id %>/1';
    }

    function cancel(){
      var cancelAfter = document.getElementById("cancelAfter");
      var cancelBefore = document.getElementById("cancelBefore");

      cancelAfter.style.display="";
      cancelBefore.style.display="none";

      location.href='/sm_rejectTrade/<%= product_id %>/<%= request_num %>/1';
    }

    function back(){
      var backAfter = document.getElementById("backAfter");
      var backBefore = document.getElementById("backBefore");

      backAfter.style.display="";
      backBefore.style.display="none";

      location.href='/sm_chat/<%= product_id %>';
    }

    </script>

    <style>
    #loader {
      position: absolute;
      left: 50%;
      top: 50%;
      z-index: 1;
      width: 150px;
      height: 150px;
      margin: -75px 0 0 -75px;
      border: 16px solid #f3f3f3;
      border-radius: 50%;
      border-top: 16px solid #3498db;
      width: 120px;
      height: 120px;
      -webkit-animation: spin 2s linear infinite;
      animation: spin 2s linear infinite;
    }

    @-webkit-keyframes spin {
      0% { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    </style>


</head>

<body id="body">

  <div id="loader"></div>

  <div style="display:none" id="loadPage">
    <% include ./sm_top_navigator %>

        <div class="container" >

            <!-- <h2><strong> 거래 취소하기 </strong></h2> -->

            <div class = "alert alert-danger" role="alert" style="text-align:center; width:90%;margin-left:5%;margin-top:3%;">
              <small>
              ※ 거래 도중 예기치 못한 사정이 발생할 경우를 위해, 사용자는 </small><b>한 달에 3번</b><small>까지 급한 시간 변경이나 거래 취소를 요청할 수 있습니다.
              <br/><br/>하지만 상대방에게 큰 불편을 줄 수 있음으로, 신중하게 하시길 바랍니다.
              <br/><br/>사용 횟수는 매달 1일마다 초기화 됩니다.
            </small>

          </div>
          <div style="text-align:center;">
            <br/>
            <label style="font-size:15px;">남은 횟수 : <%= remainCounts %>번</label>
          </div>
            <br/><br/>

            <form id="eventFrom" method="post" class="form-horizontal">


                <div class="form-group">
                    <div style="text-align:center;">
                        <button class="btn btn-success" id="changeTimeAfter" style="display:none; width:30%;" disabled><i class="fa fa-circle-o-notch fa-spin"></i> 시간 변경</button>
                        <button type="button" class="btn btn-success" id="changeTimeBefore" onclick="changeTime()" style="width:30%;"> 시간 변경</button>
                        <button class="btn btn-danger" id="cancelAfter" style="display:none; width:30%;" disabled><i class="fa fa-circle-o-notch fa-spin"></i> 거래 취소</button>
                        <button type="button" class="btn btn-danger" id="cancelBefore" onclick="cancel()" style="width:30%;">거래 취소</button>
                    </div>
                    <div style="text-align:center;">
                      <br/><br/>
                      <button class="btn btn-default" id="backAfter" style="display:none; font-size:13px;" disabled><i class="fa fa-circle-o-notch fa-spin"></i> 돌아가기</button>
                      <button type="button" class="btn btn-default" id="backBefore" style="font-size:13px;" onclick="back()">돌아가기</button>
                    </div>
                </div>

            </form>
        </div>
        <hr>

        <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
  </div>


</body>

<div style="display:none" id="loadPageFooter">
  <% include ./sm_footer %>
</div>

</html>
